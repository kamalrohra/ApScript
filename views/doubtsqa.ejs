<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Clear your doubts!</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">


  <link rel="stylesheet" href="css/doubtsqa.css">
</head>

<body>

  <div class="row">
    <div class="col-3 left">

    </div>

    <div class="col middle">

      <div class="questions-holder">

        <div class="card question-card">
          <div class="card-body" style="padding: 0; margin: 0">
            <div class="row" style="padding: 0; margin: 0">
              <div class="col-1 question-info">
                <h1 class="q">Q</h1>
                <h3><%=answers.length%></h3>
                <p class="q-info-answers">answers</p>
              </div>
              <div class="col question-container">
                <h5 class="card-title"><%= question %></h5>
              </div>
            </div>
          </div>
        </div>


      <% answers.forEach(function(answer){ %>
        <div class="card answer-card">
          <div class="card-body" style="padding: 0; margin: 0">
            <div class="row" style="padding: 0; margin: 0">
              <div class="col-2 question-info">
                <h1 class="a">A</h1>
                <div class="row">
                  <div class="col">
                    <h3>3</h3>
                    <p class="a-info-votes">votes</p>
                  </div>
                  <div class="col">
                    <form action="/vote" method="post">

                    <input type="hidden" name="forumid" value="<%=id%>">
                    <input type="hidden" name="answerid" value="<%=answer._id%>">
                    <button style="border-radius:50%;margin-bottom:10px;color:white;background-color:#1A1A1B" type="submit" name="button">▲</button>
                    <button style="border-radius:50%;color:white;background-color:#1A1A1B" type="submit" name="button">▼</button>
                    </form>

                  </div>
                </div>
              </div>
              <div class="col question-container">
                <h6 class="card-subtitle mb-2 text-muted"><%=answer.Solution%></h6>
              </div>
            </div>
          </div>
        </div>
    <% }) %>


      <form action="/submitans" method="POST">
        <div class="card add-answer-card">
          <div class="row add-answer-row" style="width:100%;">
            <h6 style="padding-bottom:2%">Add an answer</h6>
            <br>



            <div class="col" style="width: 50%">
              <textarea id="autoresizing" name="answer"  placeholder="Write here!">

      </textarea>

              <script type="text/javascript">
                textarea = document.querySelector("#autoresizing");
                textarea.addEventListener('input', autoResize, false);

                function autoResize() {
                  this.style.height = 'auto';
                  this.style.height = this.scrollHeight + 'px';
                }
              </script>
            </div>
            <input type="hidden" name="questionid" value="<%= id %>"></input>

            <div class="row" style="padding:2%" >
              <button type="submit" class="btn btn-secondary btn-md" name="button" style="background-color: #407370;">Submit</button>
            </div>

          </div>
        </div>
      </form>


      </div>
    </div>
    <div class="col-3 right">
    </div>
  </div>
</body>

</html>
